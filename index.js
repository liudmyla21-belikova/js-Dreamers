import{S as q,N as me,i as m,A as pe,a as T}from"./assets/vendor-BHbBlzG1.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".feedback-section").forEach(t=>{const n=t.querySelector(".feedback-swiper"),o=t.querySelector(".feedback-custom-button-next"),r=t.querySelector(".feedback-custom-button-prev"),s=t.querySelector(".feedback-swiper-pagination");if(!n)return;const i=new q(n,{loop:!1,observer:!0,observeParents:!0,navigation:{nextEl:o||null,prevEl:r||null},keyboard:{enabled:!0,onlyInViewport:!0},simulateTouch:!0,slidesPerView:1,spaceBetween:24,pagination:{el:s||null,clickable:!0},breakpoints:{768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}}});i.update();function l(){r&&(i.isBeginning?r.classList.remove("active-swiper-btn"):r.classList.add("active-swiper-btn")),o&&(i.isEnd?o.classList.remove("active-swiper-btn"):o.classList.add("active-swiper-btn"))}l(),i.on("slideChange",()=>{l()}),window.addEventListener("resize",()=>{i.update(),l()})})});const ge=document.querySelector("[data-header-menu-open]"),fe=document.querySelector("[data-header-menu-close]"),C=document.querySelector("[data-header-menu]"),ye=C.querySelectorAll('a[href^="#"]');let O=0;function he(){O=window.scrollY||document.documentElement.scrollTop,document.documentElement.style.setProperty("--scroll-y",`-${O}px`),document.documentElement.classList.add("no-scroll"),document.body.classList.add("no-scroll")}function ee(){document.documentElement.classList.remove("no-scroll"),document.body.classList.remove("no-scroll"),window.scrollTo(0,O)}function te(){C.classList.toggle("is-open")?he():ee()}ge.addEventListener("click",te);fe.addEventListener("click",te);ye.forEach(e=>{e.addEventListener("click",()=>{C.classList.contains("is-open")&&(C.classList.remove("is-open"),ee())})});q.use([me]);const oe=document.querySelector(".hero-btn-slide-prev"),ne=document.querySelector(".hero-btn-slide-next"),Y=new q(".hero-swiper",{slidesPerView:1,spaceBetween:16,loop:!1,navigation:{nextEl:".hero-btn-slide-next",prevEl:".hero-btn-slide-prev"},keyboard:{enabled:!0,onlyInViewport:!0},on:{slideChange:()=>{const{isBeginning:e,isEnd:t}=Y;oe.disabled=e,ne.disabled=t}}});oe.disabled=Y.isBeginning;ne.disabled=Y.isEnd;const be="modulepreload",we=function(e){return"/js_dreamers/"+e},Z={},ve=function(t,n,o){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));r=Promise.allSettled(n.map(y=>{if(y=we(y),y in Z)return;Z[y]=!0;const S=y.endsWith(".css"),le=S?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${le}`))return;const h=document.createElement("link");if(h.rel=S?"stylesheet":be,S||(h.as="script"),h.crossOrigin="",h.href=y,l&&h.setAttribute("nonce",l),document.head.appendChild(h),S)return new Promise((de,ue)=>{h.addEventListener("load",de),h.addEventListener("error",()=>ue(new Error(`Unable to preload CSS for ${y}`)))})}))}function s(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return r.then(i=>{for(const l of i||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},d={backdrop:document.getElementById("cart-modal-backdrop"),list:document.getElementById("cart-items-list"),total:document.getElementById("cart-total-price"),openBtn:document.getElementById("open-cart-btn"),closeBtn:document.getElementById("cart-close-btn"),buyBtn:document.getElementById("cart-buy-btn"),countBadge:document.getElementById("cart-count-badge")};function E(){return JSON.parse(localStorage.getItem("cart"))||[]}function re(e){localStorage.setItem("cart",JSON.stringify(e))}function N(e,t=1,n=!1){if(!e||!t)return;const o=xe(e);if(!o){console.error("Book has no stable id â€“ cannot add to cart");return}const r=E(),s=r.find(i=>i.id===o);s?s.qty+=t:r.push({id:o,title:e.title,author:e.author,price:e.price,image:e.book_image||e.image||"",qty:t}),re(r),m.success({title:"ðŸ›’",message:"Ð”Ð¾Ð´Ð°Ð½Ð¾ Ð´Ð¾ ÐºÐ¾Ñ€Ð·Ð¸Ð½Ð¸!",backgroundColor:"#198754",titleColor:"#fff",messageColor:"#fff",position:"bottomRight"}),P(),B(),n&&U()}function Le(e){const t=E().filter(n=>String(n.id)!==String(e));re(t),P(),B()}function A(e){return`$${(+e).toFixed(2)}`}function P(){if(!d.list)return;const e=E();d.list.innerHTML="";let t=0;if(e.length===0)d.list.innerHTML="<li>Your cart is empty.</li>";else for(const n of e){const o=+n.price*n.qty;t+=o;const r=document.createElement("li");r.innerHTML=`
        <div class="cart-item">
          <img class="cart-item-image" src="${n.image}" alt="${n.title}" />
          <div class="cart-item-info">
            <strong>${n.title}</strong><br />
            <small>by ${n.author}</small><br />
            Price: ${A(n.price)} Ã— ${n.qty} = ${A(o)}<br />
            <button class="remove-from-cart-btn" data-id="${n.id}">Remove</button>
          </div>
        </div>`,d.list.appendChild(r)}d.total.textContent=A(t),d.list.querySelectorAll(".remove-from-cart-btn").forEach(n=>{n.onclick=o=>{o.stopPropagation(),Le(n.dataset.id)}})}function B(){if(!d.countBadge)return;const t=E().reduce((n,o)=>n+o.qty,0);d.countBadge.textContent=t>0?t:""}function U(){P(),d.backdrop.classList.remove("hidden")}function V(){d.backdrop.classList.add("hidden")}d.openBtn&&(d.openBtn.onclick=U);d.closeBtn&&(d.closeBtn.onclick=V);d.backdrop&&d.backdrop.addEventListener("click",e=>{e.target===d.backdrop&&V()});d.buyBtn&&(d.buyBtn.onclick=()=>{if(E().length===0){m.warning({title:"ðŸ˜•",message:"ÐšÐ¾ÑˆÐ¸Ðº Ð¿Ð¾Ñ€Ð¾Ð¶Ð½Ñ–Ð¹!",position:"topRight"});return}localStorage.removeItem("cart"),P(),B(),V(),m.success({title:"âœ…",message:"Ð”ÑÐºÑƒÑ”Ð¼Ð¾ Ð·Ð° Ð·Ð°Ð¼Ð¾Ð²Ð»ÐµÐ½Ð½Ñ! ÐœÐ¸ Ð· Ð²Ð°Ð¼Ð¸ Ð·Ð²â€™ÑÐ¶ÐµÐ¼Ð¾ÑÑ Ð½Ð°Ð¹Ð±Ð»Ð¸Ð¶Ñ‡Ð¸Ð¼ Ñ‡Ð°ÑÐ¾Ð¼.",position:"center",timeout:5e3,backgroundColor:"#28a745",titleColor:"#fff",messageColor:"#fff"})});window.openCart=U;window.addToCart=N;window.updateCartBadge=B;B();const c={backdrop:document.getElementById("books-modal-backdrop"),modal:document.getElementById("books-modal"),modalClose:document.getElementById("books-modal-close"),qtyInput:document.getElementById("books-qty-input"),qtyDec:document.getElementById("books-qty-dec"),qtyInc:document.getElementById("books-qty-inc"),addToCart:document.getElementById("books-add-to-cart"),modalForm:document.getElementById("books-modal-form"),detailsTxt:document.getElementById("books-details-text"),shippingTxt:document.getElementById("books-shipping-text"),returnsTxt:document.getElementById("books-returns-text"),modalImage:document.getElementById("books-modal-image"),modalTitle:document.getElementById("books-modal-title"),modalAuthor:document.getElementById("books-modal-author"),modalPrice:document.getElementById("books-modal-price")};let k=null,F=0;const ke="We ship across the Ukraine within 2â€“5 business days. All orders are processed through USPS or a reliable courier service. Enjoy free standard shipping on orders over $50.",Ee="You can return an item within 14 days of receiving your order, provided it hasnâ€™t been used and is in its original condition. To start a return, please contact our support team â€” weâ€™ll guide you through the process quickly and hassle-free.";let b=null;function se(){document.querySelectorAll(".accordion-container .ac").forEach(e=>{e.classList.remove("is-active")}),document.querySelectorAll(".accordion-container .ac-panel").forEach(e=>{e.style.maxHeight=""}),document.querySelectorAll(".accordion-container .ac-trigger").forEach(e=>{e.setAttribute("aria-expanded","false"),e.classList.remove("is-active")})}function Be(e){var t,n,o;c.modalImage.src=e.book_image||e.image||"",c.modalTitle.textContent=e.title||"",c.modalAuthor.textContent=e.author||"",c.modalPrice.textContent=e.price||"",c.detailsTxt.textContent=((t=e.description)==null?void 0:t.trim())||"No details available",c.shippingTxt.textContent=((n=e.shipping)==null?void 0:n.trim())||ke,c.returnsTxt.textContent=((o=e.returns)==null?void 0:o.trim())||Ee,c.qtyInput.value=1}function Se(e){const t=localStorage.getItem(`book-${e}`);t&&(k=JSON.parse(t),c.modal.dataset.bookId=e,Be(k),b&&b.destroy(),se(),b=new pe(".accordion-container",{duration:200,showMultiple:!0}),F=window.scrollY,document.body.style.position="fixed",document.body.style.top=`-${F}px`,document.body.style.left="0",document.body.style.right="0",c.backdrop.classList.add("books-modal-backdrop--visible"),document.body.classList.add("no-scroll"))}function I(){c.backdrop.classList.remove("books-modal-backdrop--visible"),document.body.classList.remove("no-scroll"),document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.right="",window.scrollTo(0,F),b&&(b.closeAll(),b.destroy(),b=null),se(),k=null,c.qtyInput.value=1}function Ie(){c.modalClose.onclick=I,c.backdrop.addEventListener("click",e=>{c.modal.contains(e.target)||I()}),document.addEventListener("keydown",e=>{e.key==="Escape"&&I()}),c.qtyDec.onclick=()=>{c.qtyInput.value=Math.max(1,+c.qtyInput.value-1)},c.qtyInc.onclick=()=>{c.qtyInput.value=+c.qtyInput.value+1},c.addToCart.onclick=()=>{if(!k){m.error({title:"âŒ",message:"ÐšÐ½Ð¸Ð³Ð° Ð½Ðµ Ð·Ð°Ð³Ñ€ÑƒÐ¶ÐµÐ½Ð°",position:"topRight"});return}N(k,+c.qtyInput.value)},c.modalForm.onsubmit=e=>{e.preventDefault();const t=+c.qtyInput.value,n=c.modal.dataset.bookId,o=localStorage.getItem(`book-${n}`);if(!o)return;const r=JSON.parse(o);N(r,t,!0)}}Ie();const Ce=Object.freeze(Object.defineProperty({__proto__:null,closeModal:I,openModal:Se},Symbol.toStringTag,{value:"Module"})),j="https://books-backend.p.goit.global/books",qe="https://api.nytimes.com/svc/books/v3",Te="WqGJfDWbfA6D4AGnrBC6GVU24SNqwSMn",a={counter:document.querySelector(".books-count"),categoryDropdown:document.querySelector(".category-dropdown"),dropdownBtn:document.querySelector(".category-dropdown-btn"),dropdownList:document.querySelector(".dropdown-list"),categoryDropdownLabel:document.querySelector(".category-dropdown-label"),categoryList:document.querySelector(".category-list"),booksList:document.querySelector(".books-list"),showMoreBtn:document.querySelector(".pagination-btn"),loader:document.querySelector(".inline-loader")};let p=0,f=[];const Pe=4;let x=[],g="All categories",L=0;const R=new Map;async function $e(){try{const{data:e}=await T.get(`${qe}/lists/overview.json`,{params:{"api-key":Te}});return e.results.lists.flatMap(n=>n.books)}catch(e){return console.error("NYT Overview Error:",e.message),[]}}async function Ae(){$();const e=await $e(),t=W(e);await z(t),w()}function ie(e,t=4.9,n=25){(typeof e!="string"||!e.length)&&(e="default-id");const o=.1,r=Math.floor((n-t)/o)+1;let s=0;for(let l=0;l<e.length;l++)s=e.charCodeAt(l)+((s<<5)-s);const i=Math.abs(s)%r;return(t+i*o).toFixed(2)}function xe(e){var s,i;const t=((s=e.title)==null?void 0:s.trim())||"",n=((i=e.author)==null?void 0:i.trim())||"",o=e.primary_isbn13||e.primary_isbn10||"",r=e._id||o||`${t}|${n}`;return r||(console.warn("Book has no valid ID fallback, generating hash"),btoa(`${t}-${n}`).slice(0,12))}function D(){return window.innerWidth<768?10:24}async function Me(){try{const{data:e}=await T.get(`${j}/category-list`),t=e.map(r=>r.list_name),n=await Promise.all(t.map(r=>ae(r)));return["NYT Bestsellers","All categories",...t.filter((r,s)=>n[s].length>0)]}catch{return m.error({message:"Failed to load categories"}),[]}}function _e(e){a.dropdownList.innerHTML=e.map(t=>`<li class="dropdown-item" data-category="${t}">${t}</li>`).join("")}function Oe(e){a.categoryList.innerHTML=e.map(t=>`<li class="category-item"><button class="category-btn" data-category="${t}">${t}</button></li>`).join("")}function M(e){document.querySelectorAll(".category-btn").forEach(t=>{t.classList.toggle("active",t.dataset.category===e)}),document.querySelectorAll(".dropdown-item").forEach(t=>{t.classList.toggle("active",t.dataset.category===e)})}async function z(e){L=D(),p=0,f=e;const t=e.slice(0,L);t.forEach(n=>{var s;const o=n._id||n.primary_isbn13||((s=n.title)==null?void 0:s.trim());if(!o)return;if(!R.get(o)){const i={...n,price:ie(o)};R.set(o,i),localStorage.getItem(`book-${o}`)||localStorage.setItem(`book-${o}`,JSON.stringify(i))}}),J(t),p=t.length,G(p,e.length),p<f.length?a.showMoreBtn.classList.remove("hidden"):a.showMoreBtn.classList.add("hidden")}function J(e,{append:t=!1}={}){const n=e.map(o=>{const r=o._id||o.primary_isbn13||o.title||"default-id",s=R.get(r),i=(s==null?void 0:s.price)||ie(r);return`
      <li class="book-card">
        <img src="${o.book_image}" alt="${o.title}" width="340" height="484" loading="lazy"/>
        <div class="book-card-elements-wrapper">
          <div class="book-card-title-wrapper">
            <h4>${o.title}</h4>
            <p>${o.author}</p>
          </div>
          <p>${i} $</p>
        </div>
        <button class="learn-more-btn" data-id="${r}">Learn More</button>
      </li>
    `}).join("");if(t){const o=document.createRange().createContextualFragment(n);a.booksList.appendChild(o);const r=Array.from(a.booksList.children).slice(-e.length);requestAnimationFrame(()=>{r.forEach((s,i)=>{setTimeout(()=>s.classList.add("animate-in"),i*40)}),w()})}else{a.booksList.innerHTML=n;const o=a.booksList.querySelectorAll(".book-card");requestAnimationFrame(()=>{o.forEach((r,s)=>{setTimeout(()=>r.classList.add("animate-in"),s*40)}),w()})}}function W(e){const t=new Set;return e.filter(n=>{var r,s;const o=`${(r=n.author)==null?void 0:r.trim().toLowerCase()}||${(s=n.title)==null?void 0:s.trim().toLowerCase()}`;return t.has(o)?!1:(t.add(o),!0)})}async function ae(e){if(!e||e.trim()==="")return[];try{const{data:t}=await T.get(`${j}/category?category=${e}`);return t}catch{return m.error({message:"Failed to load books by category"}),[]}}async function ce(){try{const{data:e}=await T.get(`${j}/top-books`);return e.flatMap(t=>t.books)}catch{return m.error({message:"Failed to load trending books"}),[]}}function K(e){if(!e||!e.length)return;window.innerWidth<1440?(_e(e),a.categoryList.innerHTML="",a.categoryDropdown.classList.remove("hidden"),a.categoryList.classList.add("hidden")):(Oe(e),a.dropdownList.innerHTML="",a.categoryDropdown.classList.add("hidden"),a.categoryList.classList.remove("hidden"))}function G(e,t){a.counter.textContent=`Showing ${e} of ${t}`}async function Ne(){$();const e=f.slice(p,p+Pe);J(e,{append:!0}),p+=e.length,G(p,f.length),await Re(a.booksList),w(),p>=f.length&&a.showMoreBtn.classList.add("hidden")}async function Fe(){$();const e=await ce(),t=W(e);await z(t),w()}async function Q(e){if($(),g=e,e==="NYT Bestsellers"){await Ae(),w();return}let t=[];e==="All categories"?t=await ce():t=await ae(e);const n=W(t);await z(n),w()}function $(){a.loader.classList.remove("hidden")}function w(){a.loader.classList.add("hidden")}function Re(e){const t=e.querySelectorAll("img"),n=Array.from(t).map(o=>new Promise(r=>{o.complete?r():(o.addEventListener("load",r),o.addEventListener("error",r))}));return Promise.all(n)}async function De(){L=D(),x=await Me(),K(x),window.innerWidth>=1440&&(g="All categories",M(g)),window.addEventListener("resize",()=>{const e=D(),t=e!==L;if(L=e,K(x),t&&f.length){const n=f.slice(0,L);p=n.length,J(n),G(p,f.length),a.showMoreBtn.classList.toggle("hidden",p>=f.length)}}),a.dropdownBtn.addEventListener("click",()=>{const e=a.dropdownList.classList.toggle("is-open");a.dropdownBtn.classList.toggle("open",e)}),a.dropdownList.addEventListener("click",e=>{const t=e.target.closest("li[data-category]");t&&(g=t.dataset.category,a.categoryDropdownLabel.textContent=g,Q(g),M(g),a.dropdownList.classList.remove("is-open"),a.dropdownBtn.classList.remove("open"))}),a.categoryList.addEventListener("click",e=>{const t=e.target.closest("[data-category]");t&&(g=t.dataset.category,Q(g),M(g))}),a.showMoreBtn.addEventListener("click",Ne),await Fe(),document.addEventListener("click",e=>{const t=e.target.closest(".learn-more-btn");if(!t)return;const n=t.dataset.id;n&&ve(async()=>{const{openModal:o}=await Promise.resolve().then(()=>Ce);return{openModal:o}},void 0).then(({openModal:o})=>{o(n)}).catch(o=>{console.log("Failed to open modal:",o)})}),document.addEventListener("click",e=>{a.dropdownBtn.contains(e.target)||a.dropdownList.contains(e.target)||(a.dropdownList.classList.remove("is-open"),a.dropdownBtn.classList.remove("open"))})}De();document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".event-section").forEach(t=>{const n=t.querySelector(".event-swiper"),o=t.querySelector(".event-custom-button-next"),r=t.querySelector(".event-custom-button-prev"),s=t.querySelector(".event-swiper-pagination");if(!n)return;const i=new q(n,{loop:!1,observer:!0,observeParents:!0,navigation:{nextEl:o||null,prevEl:r||null},keyboard:{enabled:!0,onlyInViewport:!0},simulateTouch:!0,slidesPerView:1,spaceBetween:24,pagination:{el:s||null,clickable:!0},breakpoints:{768:{slidesPerView:2,spaceBetween:24},1440:{slidesPerView:3,spaceBetween:24}}});i.update();function l(){r&&(i.isBeginning?r.classList.remove("active-swiper-btn"):r.classList.add("active-swiper-btn")),o&&(i.isEnd?o.classList.remove("active-swiper-btn"):o.classList.add("active-swiper-btn"))}l(),i.on("slideChange",()=>{l()}),window.addEventListener("resize",()=>{i.update(),l()})})});const u=document.getElementById("contact-modal"),X=u==null?void 0:u.querySelector(".contact-modal-close"),v=document.getElementById("contact-modal-form"),_=u==null?void 0:u.querySelector(".contact-modal-subtitle"),He=document.querySelectorAll("[data-event-title]");if(!u||!X||!v||!_)console.error("Contact Modal: One or more required elements are missing.");else{let e=function(){u.classList.add("is-hidden"),document.body.style.overflow="",v.reset(),_.textContent=""};He.forEach(t=>{t.addEventListener("click",()=>{const n=t.getAttribute("data-event-title")||"Event Registration";_.textContent=n,u.classList.remove("is-hidden"),document.body.style.overflow="hidden",u.querySelector('input[name="name"]').focus()})}),X.addEventListener("click",e),u.addEventListener("click",t=>{t.target===u&&e()}),document.addEventListener("keydown",t=>{t.key==="Escape"&&!u.classList.contains("is-hidden")&&e()}),v.addEventListener("submit",t=>{t.preventDefault();const n=v.elements.name.value.trim(),o=v.elements.email.value.trim(),r=v.elements.message.value.trim();if(!n||!o){m.error({title:"Error",message:"Please fill out all required fields.",position:"topRight"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)){m.error({title:"Error",message:"Please enter a valid email address.",position:"topRight"});return}m.success({title:"Success",message:`Thank you, ${n}! Your message has been sent.`,position:"topRight"}),console.log("Name:",n,"Email:",o,"Message:",r),e()})}const H=document.querySelector(".footer-form"),Ye=document.querySelector("#user-email");H.addEventListener("submit",Ue);function Ue(e){e.preventDefault();const t=Ye.value.trim();if(!/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(t)){m.error({title:"Error",message:"Please enter a valid email address",position:"topRight"});return}let o=JSON.parse(localStorage.getItem("subscribers"))||[];if(o.includes(t)){m.warning({title:"Notice",message:"This email is already subscribed",position:"topRight"}),H.reset();return}o.push(t),localStorage.setItem("subscribers",JSON.stringify(o)),m.success({title:"Success",message:"Thank you for subscribing!",position:"topRight"}),H.reset()}document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".scroll-up-btn");if(!e){console.error("Scroll Up Button not found.");return}window.addEventListener("scroll",()=>{window.scrollY>300?e.classList.remove("is-hidden"):e.classList.add("is-hidden")}),e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})});document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("theme-toggle");localStorage.getItem("theme")==="dark"&&document.documentElement.classList.add("dark-theme"),e.addEventListener("click",()=>{const t=document.documentElement.classList.toggle("dark-theme");localStorage.setItem("theme",t?"dark":"light")})});
//# sourceMappingURL=index.js.map
